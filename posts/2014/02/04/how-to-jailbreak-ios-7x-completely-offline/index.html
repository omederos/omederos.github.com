<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
        <title>How to jailbreak iOS 7.x completely offline</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link href="http://blog.omederos.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Oscar Mederos Full Atom Feed" />
        
        <link href="http://blog.omederos.com/theme/css/style.css" rel="stylesheet" type="text/css" media="screen" />
        
    <meta content="Article" property="og:type">
    <meta content="How to jailbreak iOS 7.x completely offline" property="og:title">
    <meta content="http://blog.omederos.com/posts/2014/02/04/how-to-jailbreak-ios-7x-completely-offline/" property="og:url">
    <meta name="keywords" contents="jailbreak offline, jailbreak, evasi0n, evad3rs, iOS7">
    <meta name="description" contents="A way of jailbreaking iOS 7 using evasi0n without having internet connection access">
  
  
  <!--[if IE]>
  <style type="text/css"> 
  .twoColFixRtHdr #mainContent { zoom: 1; }
  </style>
  <![endif]-->

</head>

<body>

<div id="container">

  <div id="header">
  <h1><a href="http://blog.omederos.com/index.html">Oscar Mederos</h1>
  
  </div><!-- end #header -->
  
  <div id="topMenu">
  
    <ul>
    	<li><a href="http://blog.omederos.com/index.html">Home</a></li>
        <li>&ndash;</li>
        <li><a href="http://blog.omederos.com/archives.html">Archives</a></li>
        
    </ul>
  
  </div><!-- end #topMenu -->

  <div id="sidebar">
    <ul>
	<li>
	    <h3>Pages</h3>
	    <ul>
                <li><a href="http://blog.omederos.com/pages/about/">About</a></li>
	    </ul>
	</li>
	<li>
            <h3>Categories</h3>
            <ul>
		     <li ><a href="http://blog.omederos.com/category/blogging">blogging</a></li>
		     <li ><a href="http://blog.omederos.com/category/django">django</a></li>
		     <li class="active"><a href="http://blog.omederos.com/category/hacks">hacks</a></li>
	    </ul>
	</li>
        <li>
                <h3>Social</h3>
                <ul>
                    <li><a href="https://github.com/omederos">Github</a></li>
                    <li><a href="http://www.linkedin.com/in/omederos">LinkedIn</a></li>
                    <li><a href="http://twitter.com/omederos">Twitter</a></li>
                    <li><a href="http://www.facebook.com/omederos">Facebook</a></li>
                    <li><a href="http://stackoverflow.com/users/297114/oscar-mederos">Stack Overflow</a></li>
                    <li><a href="http://careers.stackoverflow.com/omederos">SO Careers 2.0</a></li>
                </ul>
        </li><!-- /.social -->
        <li>
            <h3>Tags?</h3>
            <ul>
                <li class="tag-4"><a href="/tag/django/">django</a></li>
                <li class="tag-4"><a href="/tag/hacks/">hacks</a></li>
                <li class="tag-4"><a href="/tag/jailbreak/">jailbreak</a></li>
                <li class="tag-1"><a href="/tag/python/">python</a></li>
                <li class="tag-4"><a href="/tag/blogging/">blogging</a></li>
                <li class="tag-4"><a href="/tag/iOS/">iOS</a></li>
                <li class="tag-4"><a href="/tag/pelican/">pelican</a></li>
            <!--                    <li><a href="http://blog.omederos.com/tag/pelican/">pelican</a></li>
                    <li><a href="http://blog.omederos.com/tag/python/">python</a></li>
                    <li><a href="http://blog.omederos.com/tag/jailbreak/">jailbreak</a></li>
                    <li><a href="http://blog.omederos.com/tag/ios/">iOS</a></li>
                    <li><a href="http://blog.omederos.com/tag/hacks/">hacks</a></li>
                    <li><a href="http://blog.omederos.com/tag/django/">django</a></li>
                    <li><a href="http://blog.omederos.com/tag/blogging/">blogging</a></li>
 -->
            </ul>
        </li>
    </ul>
  </div><!-- end #sidebar -->

  <div id="mainContent">
  	
 


<div class="blogItem">
    
      <h2><a href="http://blog.omederos.com/posts/2014/02/04/how-to-jailbreak-ios-7x-completely-offline/">How to jailbreak iOS 7.x completely offline</a></h2>
      <h3>Tuesday, February 04, 2014</h3>
      
  <p>I'm usually in a very slow internet connection. How slow? well, using a 56k modem. When <a href="http://www.evasi0n.com/">evad3rs</a> released the jailbreak for iOS 7.x some weeks ago, I noticed something different to the previous version, the one used to jailbreak iOS 6.x: it requires internet connection. After a few minutes of seeing what was happening behind the scenes, I understood what it was doing and I was able to reproduce the same process locally.</p>
<p>What does evasi0n 1.0.x do when it says "Retrieving Remote Package"? Simple:</p>
<ol>
<li>
<p>It asks evasi0n.com for a <code>.plist</code> file which contains two things:</p>
<ul>
<li>An url that points to a .ipa file (<code>WWDC</code>)</li>
<li>The cookies that need to be used when downloading the application, exactly like iTunes. Below is an example:</li>
</ul>
<p><pre><code>
    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
    &lt;!DOCTYPE plist PUBLIC &quot;-//Apple Computer//DTD PLIST 1.0//EN&quot; &quot;http://www.apple.com/DTDs/  PropertyList-1.0.dtd&quot;&gt;
    &lt;plist version=&quot;1.0&quot;&gt;
    &lt;array&gt;
    &lt;dict&gt;
      &lt;key&gt;URL&lt;/key&gt;
      &lt;string&gt;<b>http://a906.phobos.apple.com/us/r30/Purple/.../mzps6036043982514941651.D2.pd.ipa</b>&lt;/string&gt;
      &lt;key&gt;Headers&lt;/key&gt;
      &lt;array&gt;
        &lt;string&gt;<b>Cookie: downloadKey=expires=1388710803~access=/us/r1000/098/Purple/v4/c3/4e/98/c34e989a-8522-fde0-...</b>&lt;/string&gt;
        &lt;string&gt;User-Agent: iTunes/11.1.3 (Macintosh; OS X 10.9) AppleWebKit/537.71&lt;/string&gt;
      &lt;/array&gt;
      &lt;/dict&gt;
    &lt;/array&gt;
    &lt;/plist&gt;<br />
</code></pre></p>
</li>
<li>
<p>Then it performs a request to the given URL with those cookies, in order to download the application.</p>
</li>
</ol>
<p>The idea would be to download that application and store it locally. You can do that using <code>wget</code>, <code>curl</code> or any other tool, like this:  </p>
<div class="highlight"><pre><span class="n">wget</span> <span class="o">--</span><span class="n">header</span><span class="o">=</span><span class="err">&#39;</span><span class="n">User</span><span class="o">-</span><span class="n">Agent</span><span class="o">:</span> <span class="n">iTunes</span><span class="o">/</span><span class="mf">11.1.3</span> <span class="p">(</span><span class="n">Macintosh</span><span class="p">;</span> <span class="n">OS</span> <span class="n">X</span> <span class="mf">10.9</span><span class="p">)</span> <span class="n">AppleWebKit</span><span class="o">/</span><span class="mf">537.71</span><span class="err">&#39;</span> 
     <span class="o">--</span><span class="n">header</span><span class="o">=</span><span class="err">&#39;</span><span class="n">Accept</span><span class="o">:</span> <span class="err">*/</span><span class="o">*</span><span class="err">&#39;</span> <span class="o">--</span><span class="n">header</span><span class="o">=</span><span class="err">&#39;</span><span class="n">Cookie</span><span class="o">:</span> <span class="n">downloadKey</span><span class="o">=</span><span class="n">expires</span><span class="o">=</span><span class="mi">1388710803</span><span class="o">~</span><span class="n">access</span><span class="o">=/</span><span class="n">us</span><span class="o">/</span><span class="n">r1000</span><span class="o">/</span><span class="mi">098</span><span class="o">/</span><span class="n">Purple</span><span class="o">/</span><span class="n">v4</span><span class="o">/</span><span class="n">c3</span><span class="o">/</span><span class="mi">4</span><span class="n">e</span><span class="o">/</span><span class="mi">98</span><span class="o">/</span><span class="n">c34e989a</span><span class="o">-</span><span class="mi">8522</span><span class="o">-</span><span class="n">fde0</span><span class="o">-</span><span class="p">...</span><span class="err">&#39;</span> 
     <span class="err">&#39;</span><span class="n">http</span><span class="o">:</span><span class="c1">//a906.phobos.apple.com/us/r30/Purple/.../mzps6036043982514941651.D2.pd.ipa&#39;</span>
</pre></div>


<p>and tell evasi0n that it must download the <code>.ipa</code> file from your computer instead of getting it from Apple servers.</p>
<p>To do that (using Windows), follow these steps:</p>
<ol>
<li>Install an HTTP server in your computer. You can install <a href="http://ww.wampserver.com/en‎">WAMP</a>, <a href="http://www.apachefriends.org‎">XAMP</a>, etc.</li>
<li>Once installed, create a file named <code>apple-ipa-info.plist</code> in <code>C:\wamp\www\</code>.</li>
<li>
<p>Modify your hosts file (<code>C:\Windows\System32\drivers\etc\hosts</code>) and add the following line:</p>
<blockquote>
<p>127.0.0.1 &nbsp; &nbsp; &nbsp; &nbsp; evasi0n.com</p>
</blockquote>
<p>By doing that, when you computer needs to access <code>evasi0n.com</code>, it will ask <code>127.0.0.1</code> instead.</p>
</li>
<li>
<p>Place the downloaded <code>.ipa</code> file in <code>C:\wamp\www</code> and name it however you want (e.g. <code>WWDC.ipa</code>)</p>
</li>
<li>Modify the <code>apple-ipa-info.plist</code> file and replace the Apple URL by <code>http://localhost/WWDC.ipa</code></li>
</ol>
<p>That's it. If you start the WAMP server and you try to jailbreak an iPhone using evasi0n, the remote file will be downloaded from your computer. It means you can jailbreak as many devices as you want without having access to internet.</p>
<p><strong>In the next post:</strong></p>
<p>When the jailbreak finishes and you open Cydia, as you might know, you won't be able to access your phone with tools like <code>iTools</code> or <code>iFunBox</code>. I mean, it won't be shown as <em>jailbroken</em>. The solution is to connect your iPhone to some WiFi and download <code>afc2add</code> using Cydia. In the next post I'll show you how to do that offline too without having to do that everytime you want to jailbreak an iPhone ;)</p>	
<a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-via="omederos">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
      
      <h3 class="blogMeta">By <a href="#">Oscar Mederos</a>, Category: <a href="http://blog.omederos.com/category/hacks">hacks</a></h3>
<h3 class="blogMeta">Tags: <span><a href="http://blog.omederos.com/tag/ios/">iOS</a> / </span>
<span><a href="http://blog.omederos.com/tag/jailbreak/">jailbreak</a> / </span>
<span><a href="http://blog.omederos.com/tag/hacks/">hacks</a> / </span>
</h3>    
    </div><!-- end #blogItem -->
<div class="blogItem">
    
      <h2>Comments</h2>
<div id="disqus_thread"></div>
    <script type="text/javascript">
       var disqus_identifier = "posts/2014/02/04/how-to-jailbreak-ios-7x-completely-offline/";
       (function() {
       var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
       dsq.src = 'http://omederos.disqus.com/embed.js';
       (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  </div>
				
				<!-- end #content -->
  
  </div><!-- end #mainContent -->

<div class="clearfloat"></div>

  <div id="footer">
    <p>Proudly powered by <a href="http://getpelican.com">pelican</a>, which takes great advantages of <a href="http://python.org">python</a>.
  </div><!-- end #footer -->

</div><!-- end #container -->
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-30866002-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>